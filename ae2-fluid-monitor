-- ME Bridge finden
local meBridge = peripheral.find("me_bridge")
if not meBridge then
  print("Kein ME Bridge gefunden!")
  return
end

-- Funktion, um alle Flüssigkeiten abzurufen
function getFluidStorage()
  local fluidList = {}
  
  -- Prüfen, ob die Methode existiert
  if meBridge.getFluids then
    local fluids = meBridge.getFluids()
    for _, fluid in pairs(fluids) do
      table.insert(fluidList, {
        name = fluid.displayName or fluid.name,
        amount = fluid.amount
      })
    end
  else
    print("Deine ME Bridge unterstützt keine getFluids()-Methode.")
  end

  return fluidList
end

-- Flüssigkeiten abrufen und ausgeben
local fluids = getFluidStorage()
if #fluids == 0 then
  print("Keine Flüssigkeiten gefunden.")
else
  for _, f in ipairs(fluids) do
    print(string.format("Flüssigkeit: %s | Menge: %.2f mB", f.name, f.amount))
  end
end
